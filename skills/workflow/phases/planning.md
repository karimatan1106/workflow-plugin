# planningフェーズ（parallel_analysis内）

## 目的
仕様書を作成し、実装の詳細設計を行う。

## 入力
- 読み込むファイル: `docs/workflows/{taskName}/requirements.md`

## タスク
1. requirements.mdの要件を読み込む
2. アーキテクチャを設計する
3. APIインターフェースを定義する（該当する場合）
4. データモデルを設計する（該当する場合）
5. 実装計画を立てる

## 出力
- 出力ファイル: `docs/workflows/{taskName}/spec.md`
- フォーマット: Markdown

## 出力テンプレート
```markdown
# 仕様書: {タスク名}

## 1. アーキテクチャ概要
{システム構成、コンポーネント間の関係}

## 2. インターフェース設計
### API定義（該当する場合）
{エンドポイント、リクエスト/レスポンス形式}

### コンポーネントインターフェース
{関数シグネチャ、型定義}

## 3. データモデル
{エンティティ、データ構造}

## 4. 処理フロー
{主要な処理の流れ}

## 5. エラーハンドリング
{想定されるエラーと対処}

## 6. 実装計画
{実装の順序、依存関係}

## 7. 関連ファイル
<!-- @related-files -->
- {実装対象ファイル1}
- {実装対象ファイル2}
<!-- @end-related-files -->
```

## 品質基準
- 要件を満たす設計になっている
- インターフェースが明確に定義されている
- 実装の見通しが立っている
