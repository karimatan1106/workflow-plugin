# セキュリティポリシー

## サポート対象バージョン

以下のバージョンに対してセキュリティアップデートを提供しています。

| バージョン | サポート状況 |
| ---------- | ------------ |
| 1.x.x      | ✅ サポート中 |
| < 1.0.0    | ❌ サポート終了 |

## 脆弱性の報告

セキュリティ脆弱性を発見された場合は、以下の手順でご報告ください。

### 報告手順

1. **公開Issueは作成しないでください** - 脆弱性情報が悪用される可能性があります
2. **非公開で報告** - GitHubのSecurity Advisories機能、またはメンテナーへの直接連絡をご利用ください
3. **詳細情報の提供** - 以下の情報を含めてください:
   - 脆弱性の種類（例: XSS、SQLインジェクション、認証バイパスなど）
   - 影響を受けるバージョン
   - 再現手順
   - 可能であれば、修正案

### 報告時に含める情報

```
脆弱性の種類: [種類を記載]
影響を受けるバージョン: [バージョン]
深刻度の評価: [低/中/高/重大]
再現手順:
1. ...
2. ...
3. ...
影響範囲: [影響を受ける機能や範囲]
```

## 対応プロセス

1. **受領確認** - 報告受領後、3営業日以内に確認の連絡をします
2. **調査** - 報告内容を調査し、影響範囲を特定します
3. **修正** - 脆弱性を修正するパッチを開発します
4. **リリース** - 修正版をリリースし、セキュリティアドバイザリを公開します
5. **クレジット** - 報告者の希望に応じて、謝辞を掲載します

### 対応スケジュール目安

| 深刻度 | 修正リリース目標 |
| ------ | ---------------- |
| 重大   | 24〜48時間以内   |
| 高     | 7日以内          |
| 中     | 30日以内         |
| 低     | 次回定期リリース |

## 機密情報の取り扱い

### 報告された脆弱性情報

- 修正がリリースされるまで非公開として扱います
- 報告者の同意なく、報告者の情報を公開しません
- 修正リリース後、適切な期間を置いて詳細を公開します

### このプロジェクトでの機密情報

以下の情報は機密として扱い、リポジトリにコミットしないでください:

- APIキー・シークレット
- データベース接続文字列
- 暗号化キー
- 認証トークン
- 個人を特定できる情報（PII）

### 環境変数の利用

機密情報は環境変数で管理してください:

```bash
# .env.local（.gitignoreに追加済み）
DATABASE_URL=...
ENCRYPTION_KEY=...
```

## セキュリティのベストプラクティス

このプロジェクトを使用する際は、以下のベストプラクティスに従ってください:

1. **依存関係の更新** - 定期的に `pnpm audit` を実行し、脆弱性をチェック
2. **最小権限の原則** - 必要最小限の権限のみを付与
3. **入力の検証** - 外部からの入力は必ず検証
4. **ログの保護** - 機密情報をログに出力しない

## 連絡先

セキュリティに関するお問い合わせは、GitHubのSecurity Advisories機能をご利用ください。
