# Requirements フェーズ

## subagent実行

このフェーズは**subagentとして実行**される。

---

## 目的

調査結果をもとに、要件を明確化し、受け入れ基準を定義する。

## 入力

- タスクディレクトリ: `{workflowDir}`
- 調査結果: `research.md`

## 実行手順

1. **research.md の確認**
   - 調査結果を読み込む
   - 関連ファイルと問題点を把握

2. **要件の整理**
   - 機能要件をリストアップ
   - 非機能要件（パフォーマンス、セキュリティ）を定義
   - スコープ外を明確化

3. **受け入れ基準の定義**
   - 各要件の完了条件を定義
   - テスト可能な基準を設定

4. **requirements.md の更新**
   - 上記内容を反映

## 出力ファイル

### `{workflowDir}/requirements.md`

```markdown
# 要件定義

## 機能要件

### FR-001: [要件名]

- 説明: [詳細説明]
- 受け入れ基準:
  - [ ] [基準1]
  - [ ] [基準2]

### FR-002: ...

## 非機能要件

### NFR-001: パフォーマンス

- 説明: [詳細説明]
- 基準: [数値基準]

### NFR-002: セキュリティ

- 説明: [詳細説明]
- 基準: [セキュリティ要件]

## スコープ外

- [対象外事項1]
- [対象外事項2]

## 依存関係

- [依存1]
- [依存2]
```

## 禁止事項

- コードの編集
- 実装の開始

## 完了条件

- [ ] 全ての機能要件を定義した
- [ ] 受け入れ基準を設定した
- [ ] 非機能要件を定義した
- [ ] スコープ外を明確化した
- [ ] requirements.md を更新した
